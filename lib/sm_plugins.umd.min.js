(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["sm_plugins"]=t(require("vue")):e["sm_plugins"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"5e40":function(e,t,r){},7524:function(e,t,r){},8875:function(e,t,r){var n,i,c;(function(r,o){i=[],n=o,c="function"===typeof n?n.apply(t,i):n,void 0===c||(e.exports=c)})("undefined"!==typeof self&&self,(function(){function e(){var t=Object.getOwnPropertyDescriptor(document,"currentScript");if(!t&&"currentScript"in document&&document.currentScript)return document.currentScript;if(t&&t.get!==e&&document.currentScript)return document.currentScript;try{throw new Error}catch(h){var r,n,i,c=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,o=/@([^@]*):(\d+):(\d+)\s*$/gi,s=c.exec(h.stack)||o.exec(h.stack),l=s&&s[1]||!1,a=s&&s[2]||!1,d=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");l===d&&(r=document.documentElement.outerHTML,n=new RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),i=r.replace(n,"$1").trim());for(var p=0;p<u.length;p++){if("interactive"===u[p].readyState)return u[p];if(u[p].src===l)return u[p];if(l===d&&u[p].innerHTML&&u[p].innerHTML.trim()===i)return u[p]}return null}}return e}))},"8bbf":function(t,r){t.exports=e},f85c:function(e,t,r){"use strict";r("5e40")},f8cc:function(e,t,r){"use strict";r("7524")},fb15:function(e,t,r){"use strict";if(r.r(t),"undefined"!==typeof window){var n=window.document.currentScript,i=r("8875");n=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i});var c=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(r.p=c[1])}var o=r("8bbf");const s={style:{height:"100%"}},l={id:"first"},a={class:"scroll_div",id:"scroll_div"},d={key:0,class:"main"},u={id:"ul"},p=Object(o["createVNode"])("li",{class:"draw_up"},[Object(o["createVNode"])("div",{class:"box"},[Object(o["createTextVNode"])("加载中 "),Object(o["createVNode"])("div",{class:"loader-03"})])],-1),h={key:0,class:"empty"},m={style:{"margin-top":"10px"}},f={key:1,class:"draw_down"},b={key:0,class:"box"},y=Object(o["createTextVNode"])("加载中 "),g=Object(o["createVNode"])("div",{class:"loader-03"},null,-1),v={key:1,id:"onscroll",class:"onscroll"},j=Object(o["createVNode"])("li",{class:"draw_up"},[Object(o["createVNode"])("div",{class:"box"},[Object(o["createTextVNode"])("加载中 "),Object(o["createVNode"])("div",{class:"loader-03"})])],-1),O={key:0,class:"empty"},w={style:{"margin-top":"10px"}},_={key:1,class:"draw_down"},S={key:0,class:"box"},k=Object(o["createTextVNode"])("加载中 "),x=Object(o["createVNode"])("div",{class:"loader-03"},null,-1),N={id:"floor"};function Y(e,t,r,n,i,c){return Object(o["openBlock"])(),Object(o["createBlock"])("div",s,[Object(o["createVNode"])("div",l,[Object(o["renderSlot"])(e.$slots,"first")]),Object(o["createVNode"])("div",a,[i.pc?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("aside",d,[Object(o["createVNode"])("div",{class:"draw",id:"draw",style:{background:r.background}},[Object(o["createVNode"])("ul",u,[p,Object(o["renderSlot"])(e.$slots,"content"),i.isEmpty&&r.empty_open?(Object(o["openBlock"])(),Object(o["createBlock"])("div",h,[Object(o["createVNode"])("img",{src:r.empty_img,class:"empty_img"},null,8,["src"]),Object(o["createVNode"])("div",m,Object(o["toDisplayString"])(r.empty_title),1)])):Object(o["createCommentVNode"])("",!0),r.empty_open&&i.isEmpty?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("li",f,[Object(o["createTextVNode"])(Object(o["toDisplayString"])("加载中"===i.hint?"":i.hint)+" ",1),"加载中"===i.hint?(Object(o["openBlock"])(),Object(o["createBlock"])("div",b,[y,g])):Object(o["createCommentVNode"])("",!0)]))])],4)])),i.pc?(Object(o["openBlock"])(),Object(o["createBlock"])("div",v,[j,Object(o["renderSlot"])(e.$slots,"content"),i.isEmpty&&r.empty_open?(Object(o["openBlock"])(),Object(o["createBlock"])("div",O,[Object(o["createVNode"])("img",{src:r.empty_img,class:"empty_img"},null,8,["src"]),Object(o["createVNode"])("div",w,Object(o["toDisplayString"])(r.empty_title),1)])):Object(o["createCommentVNode"])("",!0),r.empty_open&&i.isEmpty?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("li",_,[Object(o["createTextVNode"])(Object(o["toDisplayString"])("加载中"===i.hint?"":i.hint)+" ",1),"加载中"===i.hint?(Object(o["openBlock"])(),Object(o["createBlock"])("div",S,[k,x])):Object(o["createCommentVNode"])("",!0)]))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])("div",N,[Object(o["renderSlot"])(e.$slots,"floor")])])}var B={name:"sm_scroll",props:{h_up:{type:Number,default:200},h_down:{type:Number,default:-100},p_down:{type:Number,default:20},first_load:{type:Boolean,default:!0},background:{type:String,default:"#f8f8f8"},empty_open:{type:Boolean,default:!0},empty_img:{type:String,default:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fbpic.588ku.com%2Fart_water_pic%2F19%2F09%2F11%2F8039fc783e83cda40353e097aa302713.jpg&refer=http%3A%2F%2Fbpic.588ku.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1627092290&t=91cfb51dce397dc62ccb27edec266510"},empty_title:{type:String,default:"暂无数据"}},data(){return{ul:{},startY:0,centerY:0,oldCenterY:0,startTime:0,endTime:0,pc:!1,hint:"",bool:!0,title1:"上拉加载更多",draw_up:{},draw_down:{},isEmpty:!1}},created(){this.pc=this.isPC()},mounted(){if(this.pc)this.onscroll();else{let e=document.querySelector("#draw");this.ul=e.children[0],this.ul.addEventListener("touchstart",this.touchstart,{passive:!0}),this.ul.addEventListener("touchmove",this.touchmove,{passive:!0}),this.ul.addEventListener("touchend",this.touchend)}this.$nextTick(()=>{this.draw_up=document.getElementsByClassName("draw_up")[0],this.draw_down=document.getElementsByClassName("draw_down")[0];let e=document.getElementById("first").offsetHeight,t=document.getElementById("floor").offsetHeight;document.querySelector("#scroll_div").style.height="calc(100% - "+(e+t)+"px)",this.pc||(document.querySelector("#draw").style.height="calc(100% - "+(e+t)+"px)"),this.firstLoad()})},methods:{reLoad(){let e=this;e.ul.style.transform="translateY(0px)",e.ul.style.transition="transform .1s",e.centerY=0,e.isEmpty=!1,e.draw_down.style.display="none",e.draw_up.style.display="block",e.hint="加载中",this.bool&&(this.bool=!1,e.$emit("draw_up",(t,r,n)=>{e.bool=!0,e.hint=t?e.title1:r,e.isEmpty=!t&&n,e.draw_down.style.display="block",e.draw_up.style.display="none"}))},drawDownLoad(){let e=this;e.draw_down.style.display="block",this.hint="加载中",this.bool&&(this.bool=!1,this.$emit("draw_down",(t,r,n)=>{e.bool=!0,e.hint=t?e.title1:r,e.isEmpty=!t&&n}))},firstLoad(){this.first_load&&this.reLoad()},onscroll(){let e=this,t=document.getElementById("onscroll");t.onscroll=function(r){let n=t.scrollTop,i=t.clientHeight,c=t.scrollHeight;n+i>=c-e.p_down&&e.drawDownLoad()}},touchstart(e){this.startY=e.changedTouches[0].clientY,this.oldCenterY=this.centerY,this.startTime=(new Date).getTime()},touchmove(e){this.ul.style.transition="none";let t=e.changedTouches[0].clientY-this.startY+this.centerY;t>this.h_up&&(t=this.h_up),this.ul.style.transform="translateY( "+t+"px)"},touchend(e){this.centerY=e.changedTouches[0].clientY-this.startY+this.centerY;let t=this;this.endTime=(new Date).getTime();let r=t.endTime-t.startTime,n=0,i=e.changedTouches[0].clientY-this.startY;(i>50||i<-50)&&(n=50<r&&r<=90?1500:80<r&&r<=100?1100:100<r&&r<=140?600:140<r&&r<=160?300:160<r&&r<=170?100:30),this.centerY=this.oldCenterY>this.centerY?this.centerY-n:this.centerY+n,t.ul.style.transition="transform .50s",t.ul.style.transform="translateY("+this.centerY+"px)",t.rebound()},rebound(){let e=this;if(this.centerY>0)this.centerY>this.h_up/2&&this.reLoad(),this.centerY=0,this.ul.style.transition="transform .7s",this.ul.style.transform="translateY("+this.centerY+"px)";else{let t=0,r=0,n=0;if(t=document.querySelector("#ul").clientHeight,r=document.querySelector("#draw").clientHeight,n=r-t,this.centerY<n){if(n>0)return this.centerY=0,void(this.ul.style.transform="translateY("+this.centerY+"px)");this.centerY<n+this.h_down&&(e.drawDownLoad(),t=document.querySelector("#ul").clientHeight,r=document.querySelector("#draw").clientHeight,n=r-t)}this.centerY<n&&(this.centerY=n,this.ul.style.transition="transform .7s",this.ul.style.transform="translateY("+e.centerY+"px)")}},isPC(){return!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)}}};r("f85c");B.render=Y;var L=B,V=L;const C=Object(o["withScopeId"])("data-v-bed3d0ee");Object(o["pushScopeId"])("data-v-bed3d0ee");const T={class:"scroll_y_div"},E={class:"lateral-sliding",id:"abc"};Object(o["popScopeId"])();const I=C((e,t,r,n,i,c)=>(Object(o["openBlock"])(),Object(o["createBlock"])("div",T,[Object(o["createVNode"])("div",E,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(r.internalList,t=>(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:t.name,class:"lateral-sliding-item"},[Object(o["createVNode"])("div",{class:t.name===i.active.name?"cover_internalTitle ":"cover_internalTitle internalTitle ",style:{width:void 0===t.width?"100px":t.width+"px",color:t.name===i.active.name?r.activeColor:r.color,backgroundColor:t.name===i.active.name?r.activeBackgroundColor:r.backgroundColor,fontSize:r.fontSize,textAlign:r.textAlign,padding:r.padding},onClick:e=>c.internalClick(t)},[Object(o["renderSlot"])(e.$slots,"type",{data:t},void 0,!0)],14,["onClick"])]))),128))]),Object(o["renderSlot"])(e.$slots,"content",{},void 0,!0)])));var A={name:"sm_scroll_y",emits:["internalClick"],props:{internalList:{type:Array,default:()=>[]},internalActive:{type:String,default:""},restore:{type:Boolean,default:!0},activeColor:{type:String,default:"red"},color:{type:String,default:"#acabab"},activeBackgroundColor:{type:String,default:"#dedede"},backgroundColor:{type:String,default:"#fffefe"},fontSize:{type:String,default:"14px"},textAlign:{type:String,default:"center"},padding:{type:String,default:"5px 0px 5px 0px"}},data(){return{scrollLeftY:0,active:{},scrollLeft:"scrollLeft",newInternalActiveName:"newInternalActive"}},created(){if(this.restore){sessionStorage.removeItem(this.scrollLeft),sessionStorage.removeItem(this.newInternalActiveName);for(let e=0;e<this.internalList.length;e++){if(this.internalActive.name===this.internalList[e].name){this.active=this.internalActive;break}this.scrollLeftY+=void 0===this.internalList[e].width?100:this.internalList[e].width}}else{let e=sessionStorage.getItem(this.newInternalActiveName);this.active=null===e||void 0===e?this.internalActive:JSON.parse(e)}},mounted(){this.scroll();let e=document.getElementById("abc");e.addEventListener("scroll",this.handleScroll,!0)},methods:{internalClick(e){this.active=e,this.$emit("internalClick",e),this.restore||(sessionStorage.setItem(this.newInternalActiveName,JSON.stringify(e)),sessionStorage.setItem(this.scrollLeft,this.scrollLeftY))},scroll(){this.$nextTick(()=>{if(0!==this.internalList.length){let e=sessionStorage.getItem(this.scrollLeft);void 0!==e&&null!==e&&(this.scrollLeftY=parseInt(e))}window.document.getElementById("abc").scrollLeft=this.scrollLeftY,this.$emit("internalClick",this.active)})},handleScroll(){this.scrollLeftY=document.getElementById("abc").scrollLeft}}};r("f8cc");A.render=I,A.__scopeId="data-v-bed3d0ee";var $=A,P=$;const D=[V,P];var F=D;const H=function(e){H.installed||(H.installed=!0,F.map(t=>{e.component(t.name,t)}))};"undefined"!==typeof window&&window.Vue&&H(window.Vue);var q={install:H,...F};t["default"]=q}})}));
//# sourceMappingURL=sm_plugins.umd.min.js.map